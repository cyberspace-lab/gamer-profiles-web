---
import TypologyProfile from "~/components/mine/TypologyProfile.astro";
import { getEntry } from "astro:content";
import imgAchiever from "~/assets/images/typology/brainhex/achiever.png";
import imgSocialiser from "~/assets/images/typology/brainhex/socialiser.png";
import imgDaredevil from "~/assets/images/typology/brainhex/daredevil.png";
import imgConqueror from "~/assets/images/typology/brainhex/conqueror.png";
import imgMastermind from "~/assets/images/typology/brainhex/mastermind.png";
import imgSurvivor from "~/assets/images/typology/brainhex/survivor.png";
import imgSeeker from "~/assets/images/typology/brainhex/seeker.png";

let images = {
  achiever: imgAchiever,
  socialiser: imgSocialiser,
  daredevil: imgDaredevil,
  conqueror: imgConqueror,
  mastermind: imgMastermind,
  survivor: imgSurvivor,
  seeker: imgSeeker,
};

const { reverse, type } = Astro.props;

// Get the type entry from content collections
const typeEntry = await getEntry("typology-types", `brainhex/${type}`);
if (!typeEntry) {
  throw new Error(`Typology type not found: brainhex/${type}`);
}

const { Content } = await typeEntry.render();
---

<TypologyProfile
  type={typeEntry.data.name}
  isReversed={reverse}
  items={[]}
  image={{
    src: images[type],
    alt: "Type Image",
  }}
>
  <Content />
</TypologyProfile>
