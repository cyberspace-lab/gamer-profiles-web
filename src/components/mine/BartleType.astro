---
import TypologyProfile from '~/components/mine/TypologyProfile.astro';
import bartleTypes from '~/assets/data/bartleTypes.json';
import imgSoc from '~/assets/images/typology/bartle/socializer.png';
import imgExp from '~/assets/images/typology/bartle/explorer.png';
import imgKil from '~/assets/images/typology/bartle/killer.png';
import imgAch from '~/assets/images/typology/bartle/achiever.png';

let images = {
  socializer: imgSoc,
  explorer: imgExp,
  killer: imgKil,
  achiever: imgAch,
}

let subtypeItems = [];

const {
    reverse,
    type,
    subtype
} = Astro.props;

if(subtype){
    let sub = bartleTypes[type].subtypes[subtype];
    let item = {title: sub.name, description: sub.description};
    subtypeItems.push(item);
}
---
<TypologyProfile
    type = {bartleTypes[type].name}
    isReversed = {reverse}
    items={subtypeItems}
    image={{
        src: images[type],
        alt: 'Socializer type image',
    }}
    >
    {bartleTypes[type].description}
</TypologyProfile>
