---
import TypologyProfile from '~/components/mine/TypologyProfile.astro';
import { getEntry } from 'astro:content';
import imgSoc from '~/assets/images/typology/bartle/socializer.png';
import imgExp from '~/assets/images/typology/bartle/explorer.png';
import imgKil from '~/assets/images/typology/bartle/killer.png';
import imgAch from '~/assets/images/typology/bartle/achiever.png';

let images = {
  socializer: imgSoc,
  explorer: imgExp,
  killer: imgKil,
  achiever: imgAch,
}

const {
    reverse,
    type,
} = Astro.props;

// Get the type entry from content collections
const typeEntry = await getEntry('typology-types', `bartle/${type}`);
if (!typeEntry) {
  throw new Error(`Typology type not found: bartle/${type}`);
}

const { Content } = await typeEntry.render();
---
<TypologyProfile
    type = {typeEntry.data.name}
    isReversed = {reverse}
    items={[]}
    image={{
        src: images[type],
        alt: `${typeEntry.data.name} type image`,
    }}
    >
    <Content />
</TypologyProfile>
